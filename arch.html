<!DOCTYPE html>
<html lang="en">
<head>
    <title>Architecture  - GreenBus</title>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-73604816-1', 'auto');
      ga('send', 'pageview');
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>

    <style type="text/css">code{white-space: pre;}</style>
    <style type="text/css">
        table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
        margin: 0; padding: 0; vertical-align: baseline; border: none; }
        table.sourceCode { width: 100%; line-height: 100%; }
        td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
        td.sourceCode { padding-left: 5px; }

        code > span.kw { color: #63a35c; }
        code > span.dt { color: #183691; }
        code > span.dv { color: #40a070; }
        code > span.bn { color: #40a070; }
        code > span.fl { color: #40a070; }
        code > span.ch { color: #4070a0; }
        code > span.st { color: #183691; }
        code > span.co { color: #60a0b0; font-style: italic; }
        code > span.ot { color: #795da3; }
        code > span.al { color: #ff0000; font-weight: bold; }
        code > span.fu { color: #06287e; }
        code > span.er { color: #ff0000; font-weight: bold; }
    </style>
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" />
    <style type="text/css">
        body {
            padding-top: 50px;
            font-size: 16px;
        }
        h2 {
            border-bottom-width: 2px;
            border-bottom-color: #8cc63e;
            border-bottom-style: solid;
            padding-bottom: 7px;
            margin-bottom: 22px;
        }
        .navbar-brand {
        }
        span#gb_title {
        }
        div.jumbotron {
            background-color: #8cc63e;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html" style="color: #fff"><span class="glyphicon glyphicon-stop" aria-hidden="true" style="color: #8cc63e"></span> <span id="gb_title"> GreenBus</span> Platform</a>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">System Overview <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="arch.html">Architecture Overview</a></li>
                        <li><a href="system_model.html">System Model</a></li>
                        <li><a href="measurement_stream.html">Measurement Stream</a></li>
                        <li><a href="command_requests.html">Command Requests</a></li>
                        <li><a href="events_alarms.html">Events and Alarms</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="auth_model.html">Authorization Model</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="calculation.html">Calculation Protocol</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">User Docs <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="model_xml.html">System Model XML</a></li>
                        <li><a href="processing_xml.html">Measurement Processing XML</a></li>
                        <li><a href="calculation_xml.html">Calculation XML</a></li>
                        <li><a href="event_xml.html">Event Configuration XML</a></li>
                        <li><a href="auth_xml.html">Authorization System XML</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="frontend_json.html">Frontend Configuration</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Programming Docs <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="api/">API Reference</a></li>
                        <li><a href="https://github.com/gec/greenbus-examples">API Examples</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="program_java.html">Java Tutorial</a></li>
                    </ul>
                </li>
                <li><a href="hmi.html">HMI</a></li>
                <li><a href="downloads.html">Downloads</a></li>
            </ul>
        </div>
    </div>
</nav>


<div id="doc-content" class="container">
<div id="greenbus-architecture-overview" class="section level2">
<h2>GreenBus Architecture Overview</h2>
<div class="figure">
<center><img src="img/gb_arch.png" alt="GreenBus Architecture" /></center>
</div>
<div id="technology-stack" class="section level3">
<h3>Technology Stack</h3>
<ul>
<li><strong>Linux</strong> - While most of of its dependencies are platform independent, the GreenBus distribution targets the Linux platform. Red Hat and Debian are supported, with GreenBus components running on machines as small as Raspberry Pis.</li>
<li><strong>Java Virtual Machine</strong> - While the messaging underlying the GreenBus services is platform-independent, the core services and components run on the JVM. Both Java and Scala client interfaces are supported directly.</li>
<li><strong>AMQP</strong> - The transport protocol for the GreenBus services is AMQP, which enables both the abstraction of service endpoints and event-driven asynchronous notifications of updates to data and configuration.</li>
<li><strong>Google Protocol Buffers</strong> - The primary wire protocol and data definition language for the GreenBus services is Google Protocol Buffers, which is designed for compactness on the wire with an emphasis on extensibility.</li>
</ul>
<p>The GreenBus service bindings run purely in the Java Virtual Machine, making Windows or any other non-Linux platform running Java a full participant in a GreenBus deployment.</p>
</div>
<div id="devices-data-sources" class="section level3">
<h3>Devices / Data Sources</h3>
<p>GreenBus <em>front ends</em> are a system component which establish connections to devices or external services using their communications protocols (i.e. DNP3, Modbus, or web services), <a href="measurement_stream.html">convert the data</a> to a protocol-independent format, and associate it with inputs in the GreenBus configuration model. Conversely, <a href="command_requests.html">command requests</a> from GreenBus clients flow in the opposite direction after having been translated to the external communications protocol.</p>
<p>In addition to normalizing data and control formats, converting the protocol transport to AMQP may aid with crossing network boundaries between sources and the system securely.</p>
</div>
<div id="clients" class="section level3">
<h3>Clients</h3>
<p>Applications and user interfaces use the GreenBus service APIs to inspect the model, monitor system state and issue controls. Services generally follow RESTful conventions for querying, creating, updating, and deleting objects.</p>
<p>Service request and response data are defined in a <a href="api/">protocol neutral format</a> and idiomatic code bindings are generated for particular platforms (<a href="program_java.html">such as Java</a>).</p>
<p>In addition to reading the current state of the system, service requests may also negotiate a subscription to asynchronous delivery of updates in the future.</p>
<p>Configuration updates to the GreenBus system model are made through service calls, and updates to the model are subscribable.</p>
</div>
<div id="model" class="section level3">
<h3>Model</h3>
<p>The <a href="system_model.html">GreenBus <em>system model</em></a> applies context and structure to the data input and control outputs in a GreenBus system. The model has two main divisions: the <em>communications model</em>, organizing communications sources, and the <em>equipment model</em>, which builds a hierarchical logical organization on top of the inputs and outputs regardless of their source.</p>
<p>Objects in the GreenBus model may have <em>types</em> which attach queryable metadata. Types can be used to provide semantic meaning to inputs and outputs, promoting a common understanding of the model regardless of equipment hierarchy and naming conventions.</p>
<p>Every object may also store configuration data in its own set of key-value pairs. Values may be simple data types or arbitrary opaque data. Examples of data stored in key values could be protocol configuration, schematics, or nameplate parameters for devices.</p>
</div>
<div id="databases" class="section level3">
<h3>Databases</h3>
<p>The GreenBus services provide a common, database-neutral interface to the underlying persistence stores. The two major <em>logical</em> data stores are the model and the measurement databases, with service implementations mapping requests to queries to the actual databases. (In simple deployments, <a href="http://www.postgresql.org/">PostgreSQL</a> by default.)</p>
<p>The measurement services are further broken into two logical stores: the current value key store and the measurement history store that provides real-time queries for historical values. The GreenBus measurement services can adapted to utilize stores that optimize for the requirements for throughput, latency, and space.</p>
</div>
<div id="security" class="section level3">
<h3>Security</h3>
<p>Security in the transport layer is provided by AMQP through the combination of TLS for encryption and SASL for authorization to be a participant on the bus.</p>
<p>GreenBus then layers a <a href="auth_model.html">user authorization system</a> which provides access control at the level of individual services. User agents have <em>permission sets</em> granted to them, which are system-configurable collections of access entries (allow or deny) for create/read/update/delete actions on service resources.</p>
</div>
</div>
</div>


<footer>
    <div class="container" style="margin-bottom: 20px">
        <hr>
        <div class="row">
            <div class="col-md-4"><p>&copy; Green Energy Corp 2016</p></div>
            <div class="col-md-2 col-md-offset-6"><a href="http://www.greenenergycorp.com"><img src="img/gec_sm.jpg"></img></a></div>
        </div>
    </div>
</footer>
</body>
</html>
