<!DOCTYPE html>
<html lang="en">
<head>
    <title>Authorization XML Configuration  - GreenBus</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>

    <style type="text/css">code{white-space: pre;}</style>
    <style type="text/css">
        table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
        margin: 0; padding: 0; vertical-align: baseline; border: none; }
        table.sourceCode { width: 100%; line-height: 100%; }
        td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
        td.sourceCode { padding-left: 5px; }

        code > span.kw { color: #63a35c; }
        code > span.dt { color: #183691; }
        code > span.dv { color: #40a070; }
        code > span.bn { color: #40a070; }
        code > span.fl { color: #40a070; }
        code > span.ch { color: #4070a0; }
        code > span.st { color: #183691; }
        code > span.co { color: #60a0b0; font-style: italic; }
        code > span.ot { color: #795da3; }
        code > span.al { color: #ff0000; font-weight: bold; }
        code > span.fu { color: #06287e; }
        code > span.er { color: #ff0000; font-weight: bold; }
    </style>
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" />
    <style type="text/css">
        body {
            padding-top: 50px;
            font-size: 16px;
        }
        h2 {
            border-bottom-width: 2px;
            border-bottom-color: #8cc63e;
            border-bottom-style: solid;
            padding-bottom: 7px;
            margin-bottom: 22px;
        }
        div.jumbotron {
            background-color: #8cc63e;
        }
        pre {
            margin: 20px 0 20px 0;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html" style="color: #fff"><span class="glyphicon glyphicon-stop" aria-hidden="true" style="color: #8cc63e"></span> <span id="gb_title"> GreenBus</span> Platform</a>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">System Overview <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="arch.html">Architecture Overview</a></li>
                        <li><a href="system_model.html">System Model</a></li>
                        <li><a href="measurement_stream.html">Measurement Stream</a></li>
                        <li><a href="command_requests.html">Command Requests</a></li>
                        <li><a href="events_alarms.html">Events and Alarms</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="auth_model.html">Authorization Model</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="calculation.html">Calculation Protocol</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">User Docs <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="install.html">Installation Guide</a></li>
                        <li><a href="user_tutorial.html">User Tutorial</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="model_xml.html">System Model XML</a></li>
                        <li><a href="processing_xml.html">Measurement Processing XML</a></li>
                        <li><a href="calculation_xml.html">Calculation XML</a></li>
                        <li><a href="event_xml.html">Event Configuration XML</a></li>
                        <li><a href="auth_xml.html">Authorization System XML</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="frontend_json.html">Frontend Configuration</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Programming Docs <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="api/">API Reference</a></li>
                        <li><a href="https://github.com/gec/greenbus-examples">API Examples</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="program_java.html">Java Tutorial</a></li>
                    </ul>
                </li>
                <li><a href="hmi.html">HMI</a></li>
                <li><a href="downloads.html">Downloads</a></li>
            </ul>
        </div>
    </div>
</nav>


<div id="doc-content" class="container">
<div id="authorization-xml" class="section level2">
<h2>Authorization XML</h2>
<p>The authorization XML format is used by the auth XML importer/exporter to manage the set of agents and permissions in the system. Modifications to the existing system should be made by first exporting the current state, making changes in the outputted XML, and re-importing.</p>
<div id="high-level-structure" class="section level3">
<h3>High-level Structure</h3>
<p>The authorization XML format contains two major sections, one describing the permission sets in the system (<code>&lt;permissionSets&gt;</code>) and the other the agents in the system (<code>agents</code>).</p>
<pre class="sourceCode xml"><code class="sourceCode xml"><span class="kw">&lt;?xml</span> version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;<span class="kw">?&gt;</span>
<span class="kw">&lt;authorization</span><span class="ot"> xmlns=</span><span class="st">&quot;auth.xml.ldr.greenbus.io&quot;</span><span class="kw">&gt;</span>
    <span class="kw">&lt;permissionSets&gt;</span>
        <span class="kw">&lt;permissionSet</span><span class="ot"> name=</span><span class="st">&quot;first&quot;</span><span class="ot"> id=</span><span class="st">&quot;1&quot;</span><span class="kw">&gt;</span>
            <span class="co">&lt;!-- ... --&gt;</span>
        <span class="kw">&lt;/permissionSet&gt;</span>
        <span class="kw">&lt;permissionSet</span><span class="ot"> name=</span><span class="st">&quot;second&quot;</span><span class="ot"> id=</span><span class="st">&quot;2&quot;</span><span class="kw">&gt;</span>
            <span class="co">&lt;!-- ... --&gt;</span>
        <span class="kw">&lt;/permissionSet&gt;</span>
        <span class="co">&lt;!-- ... --&gt;</span>
    <span class="kw">&lt;/permissionSets&gt;</span>
    <span class="kw">&lt;agents&gt;</span>
        <span class="kw">&lt;agent</span><span class="ot"> name=</span><span class="st">&quot;agent01&quot;</span><span class="ot"> uuid=</span><span class="st">&quot;...&quot;</span><span class="kw">&gt;</span>
            <span class="co">&lt;!-- ... --&gt;</span>
        <span class="kw">&lt;/agent&gt;</span>
        <span class="kw">&lt;agent</span><span class="ot"> name=</span><span class="st">&quot;agent02&quot;</span><span class="ot"> uuid=</span><span class="st">&quot;...&quot;</span><span class="kw">&gt;</span>
            <span class="co">&lt;!-- ... --&gt;</span>
        <span class="kw">&lt;/agent&gt;</span>
    <span class="kw">&lt;/agents&gt;</span>
<span class="kw">&lt;/authorization&gt;</span></code></pre>
</div>
<div id="permission-sets" class="section level3">
<h3>Permission Sets</h3>
<p>The <code>&lt;permissionSet&gt;</code> element defines an instance of a permission set in the authorization system. It contains a set of <code>&lt;allow&gt;</code> and <code>&lt;deny&gt;</code> elements that define the permissions in the set.</p>
<p>Permission set attributes:</p>
<ul>
<li><code>name</code> - The name of the permission set.</li>
<li><code>id</code> - Optional. Identifies the permission set uniquely in the system. Generated by the services and outputted by the XML exporter to correlate renamed objects. Should not be provided or modified by the user.</li>
</ul>
<p>Example:</p>
<pre class="sourceCode xml"><code class="sourceCode xml"><span class="kw">&lt;permissionSet</span><span class="ot"> name=</span><span class="st">&quot;read_only&quot;</span><span class="ot"> id=</span><span class="st">&quot;11&quot;</span><span class="kw">&gt;</span>
    <span class="kw">&lt;deny&gt;</span>
        <span class="kw">&lt;action</span><span class="ot"> name=</span><span class="st">&quot;read&quot;</span><span class="kw">/&gt;</span>
        <span class="kw">&lt;action</span><span class="ot"> name=</span><span class="st">&quot;delete&quot;</span><span class="kw">/&gt;</span>
        <span class="kw">&lt;resource</span><span class="ot"> name=</span><span class="st">&quot;auth_token&quot;</span><span class="kw">/&gt;</span>
        <span class="kw">&lt;selector</span><span class="ot"> style=</span><span class="st">&quot;*&quot;</span><span class="kw">/&gt;</span>
    <span class="kw">&lt;/deny&gt;</span>
    <span class="kw">&lt;allow&gt;</span>
        <span class="kw">&lt;action</span><span class="ot"> name=</span><span class="st">&quot;read&quot;</span><span class="kw">/&gt;</span>
        <span class="kw">&lt;action</span><span class="ot"> name=</span><span class="st">&quot;delete&quot;</span><span class="kw">/&gt;</span>
        <span class="kw">&lt;resource</span><span class="ot"> name=</span><span class="st">&quot;auth_token&quot;</span><span class="kw">/&gt;</span>
        <span class="kw">&lt;selector</span><span class="ot"> style=</span><span class="st">&quot;self&quot;</span><span class="kw">/&gt;</span>
    <span class="kw">&lt;/allow&gt;</span>
    <span class="kw">&lt;allow&gt;</span>
        <span class="kw">&lt;action</span><span class="ot"> name=</span><span class="st">&quot;read&quot;</span><span class="kw">/&gt;</span>
        <span class="kw">&lt;resource</span><span class="ot"> name=</span><span class="st">&quot;*&quot;</span><span class="kw">/&gt;</span>
        <span class="kw">&lt;selector</span><span class="ot"> style=</span><span class="st">&quot;*&quot;</span><span class="kw">/&gt;</span>
    <span class="kw">&lt;/allow&gt;</span>
<span class="kw">&lt;/permissionSet&gt;</span></code></pre>
</div>
<div id="permissions" class="section level3">
<h3>Permissions</h3>
<p>Permissions are defined by <code>&lt;allow&gt;</code> and <code>&lt;deny&gt;</code> elements that contain actions and resources to be allowed or denied, respectively.</p>
<p>Permission elements can contain <code>&lt;action&gt;</code>, <code>&lt;resource&gt;</code>, and <code>&lt;selector&gt;</code> elements. Multiple actions and resources are valid, but the permission must contain only one selector.</p>
<p>The <code>&lt;action&gt;</code> and <code>&lt;resource&gt;</code> elements contain a single attribute, <code>name</code>, that specifies the action/resource name.</p>
<p>The <code>&lt;selector&gt;</code> element contains a single attribute, <code>style</code>, that specifies the style selector. Additionally, selectors may contain a list of <code>&lt;argument&gt;</code> elements to define selector arguments. The <code>&lt;argument&gt;</code> element contains a single attribute, <code>value</code>, a string that provides the argument value.</p>
<p>Example of selector with arguments:</p>
<pre class="sourceCode xml"><code class="sourceCode xml"><span class="kw">&lt;selector</span><span class="ot"> style=</span><span class="st">&quot;type&quot;</span><span class="kw">&gt;</span>
    <span class="kw">&lt;argument</span><span class="ot"> value=</span><span class="st">&quot;AuthorizedType&quot;</span><span class="kw">/&gt;</span>
    <span class="kw">&lt;argument</span><span class="ot"> value=</span><span class="st">&quot;SecondType&quot;</span><span class="kw">/&gt;</span>
<span class="kw">&lt;/selector&gt;</span></code></pre>
</div>
<div id="agents" class="section level3">
<h3>Agents</h3>
<p>The <code>&lt;agents&gt;</code> element defines the list of agents in the system, specified by a sequence of <code>&lt;agent&gt;</code> elements.</p>
<p>Agent attributes:</p>
<ul>
<li><code>name</code> - The name of the agent.</li>
<li><code>uuid</code> - Optional. Identifies the agent set uniquely in the system. Generated by the services and outputted by the XML exporter to correlate renamed objects. Should not be provided or modified by the user.</li>
</ul>
<p>Additionally, agents may contain a set of <code>&lt;permissionSet&gt;</code> elements that reference, by their <code>name</code> attribute, permission sets to be assigned to the agent.</p>
<p>Example:</p>
<pre class="sourceCode xml"><code class="sourceCode xml"><span class="kw">&lt;agents&gt;</span>
    <span class="kw">&lt;agent</span><span class="ot"> name=</span><span class="st">&quot;operator&quot;</span><span class="ot"> uuid=</span><span class="st">&quot;...&quot;</span><span class="kw">&gt;</span>
        <span class="kw">&lt;permissionSet</span><span class="ot"> name=</span><span class="st">&quot;command_creator&quot;</span><span class="kw">/&gt;</span>
        <span class="kw">&lt;permissionSet</span><span class="ot"> name=</span><span class="st">&quot;command_issuer&quot;</span><span class="kw">/&gt;</span>
        <span class="kw">&lt;permissionSet</span><span class="ot"> name=</span><span class="st">&quot;user_role&quot;</span><span class="kw">/&gt;</span>
        <span class="kw">&lt;permissionSet</span><span class="ot"> name=</span><span class="st">&quot;system_viewer&quot;</span><span class="kw">/&gt;</span>
    <span class="kw">&lt;/agent&gt;</span>
    <span class="kw">&lt;agent</span><span class="ot"> name=</span><span class="st">&quot;fep_application&quot;</span><span class="ot"> uuid=</span><span class="st">&quot;...&quot;</span><span class="kw">&gt;</span>
        <span class="kw">&lt;permissionSet</span><span class="ot"> name=</span><span class="st">&quot;application&quot;</span><span class="kw">/&gt;</span>
        <span class="kw">&lt;permissionSet</span><span class="ot"> name=</span><span class="st">&quot;protocol_adapter&quot;</span><span class="kw">/&gt;</span>
    <span class="kw">&lt;/agent&gt;</span>
<span class="kw">&lt;/agents&gt;</span></code></pre>
<p>Note that agent passwords are not a part of the XML format. The importer will prompt for initial passwords for agents created through the XML format.</p>
</div>
</div>
</div>


<footer>
    <div class="container" style="margin-bottom: 20px">
        <hr>
        <div class="row">
            <div class="col-md-4"><p>&copy; Green Energy Corp 2016</p></div>
            <div class="col-md-2 col-md-offset-6"><a href="http://www.greenenergycorp.com"><img src="img/gec_sm.jpg"></img></a></div>
        </div>
    </div>
</footer>
</body>
</html>
