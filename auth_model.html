<!DOCTYPE html>
<html lang="en">
<head>
    <title>Authorization Model  - GreenBus</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>

    <style type="text/css">code{white-space: pre;}</style>
    <style type="text/css">
        table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
        margin: 0; padding: 0; vertical-align: baseline; border: none; }
        table.sourceCode { width: 100%; line-height: 100%; }
        td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
        td.sourceCode { padding-left: 5px; }
        /*code > span.kw { color: #007020; font-weight: bold; }
        code > span.dt { color: #902000; }
        code > span.dv { color: #40a070; }
        code > span.bn { color: #40a070; }
        code > span.fl { color: #40a070; }
        code > span.ch { color: #4070a0; }
        code > span.st { color: #4070a0; }
        code > span.co { color: #60a0b0; font-style: italic; }
        code > span.ot { color: #007020; }
        code > span.al { color: #ff0000; font-weight: bold; }
        code > span.fu { color: #06287e; }
        code > span.er { color: #ff0000; font-weight: bold; }*/

        code > span.kw { color: #63a35c; }
        code > span.dt { color: #183691; }
        code > span.dv { color: #40a070; }
        code > span.bn { color: #40a070; }
        code > span.fl { color: #40a070; }
        code > span.ch { color: #4070a0; }
        code > span.st { color: #183691; }
        code > span.co { color: #60a0b0; font-style: italic; }
        code > span.ot { color: #795da3; }
        code > span.al { color: #ff0000; font-weight: bold; }
        code > span.fu { color: #06287e; }
        code > span.er { color: #ff0000; font-weight: bold; }
    </style>
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" />
    <style type="text/css">
        body {
            padding-top: 50px;
            font-size: 16px;
        }
        h2 {
            /* padding-bottom: 15px; */
            border-bottom-width: 2px;
            border-bottom-color: #8cc63e;
            border-bottom-style: solid;
            padding-bottom: 7px;
            margin-bottom: 22px;
        }
        .navbar-brand {
            /*border-top-color: #8cc63e;
            border-top-style: solid;
            border-top-width: 8px;
            margin-right: 40px;*/
        }
        span#gb_title {
            /*border-right-style: solid;
            border-right-width: 7px;
            border-right-color: #8cc63e;
            padding-right: 5px;*/

            /*border-left-style: solid;
            border-left-width: 4px;
            border-left-color: #8cc63e;
            padding-left: 6px;*/
        }
        div.jumbotron {
            background-color: #8cc63e;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html" style="color: #fff"><span class="glyphicon glyphicon-stop" aria-hidden="true" style="color: #8cc63e"></span> <span id="gb_title"> GreenBus</span> Platform</a>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">System Overview <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="arch.html">Architecture Overview</a></li>
                        <li><a href="system_model.html">System Model</a></li>
                        <li><a href="measurement_stream.html">Measurement Stream</a></li>
                        <li><a href="command_requests.html">Command Requests</a></li>
                        <li><a href="events_alarms.html">Events and Alarms</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="auth_model.html">Authorization Model</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="calculation.html">Calculation Protocol</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">User Docs <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="model_xml.html">System Model XML</a></li>
                        <li><a href="processing_xml.html">Measurement Processing XML</a></li>
                        <li><a href="calculation_xml.html">Calculation XML</a></li>
                        <li><a href="event_xml.html">Event Configuration XML</a></li>
                        <li><a href="auth_xml.html">Authorization System XML</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="frontend_json.html">Frontend Configuration</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Programming Docs <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="api/">API Reference</a></li>
                        <li><a href="https://github.com/gec/greenbus-examples">API Examples</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="program_java.html">Java Tutorial</a></li>
                    </ul>
                </li>
                <li><a href="hmi.html">HMI</a></li>
                <li><a href="downloads.html">Downloads</a></li>
            </ul>
        </div>
    </div>
</nav>


<div id="doc-content" class="container">
<div id="service-authorization-model" class="section level2">
<h2>Service Authorization Model</h2>
<p>The security model for service requests are defined by a combination of <strong>resources</strong>, <strong>actions</strong>, and model <strong>selectors</strong>. Each service method defines the set of resource/action combinations it requires to be authorized, and rejects access if the provided auth token has insufficient permissions. Selectors can be applied to permissions to further restrict access to a subset of the model or data sets.</p>
<p>The <strong>resource</strong> identifies the system component permissions may apply to. Multiple service methods may refer to the same resource type.</p>
<p>The <strong>action</strong> describes the type of access granted to the resource. Actions generally follow the CRUD model: <code>create</code>, <code>read</code>, <code>update</code>, <code>delete</code>. Service requests may require more than one type of action to be authorized (e.g. both <code>create</code> and <code>update</code> for a RESTful 'put' where the object may or may not already exist).</p>
<p>A <strong>selector</strong> optionally restricts access to a subset of the resource. Selectors are composed of a 'style' and a set or arguments. The following are the supported styles:</p>
<ul>
<li><code>*</code>: Selects all entities. Equivalent to not having specified an EntitySelector. No arguments are required.</li>
<li><code>self</code>: Selects only the agent associated with the auth token. An example would be to provide rename and password change privileges for a user. No arguments are required.</li>
<li><code>type</code>: Selects entities that have at least one of the specified types. Arguments are the relevant type list. Must provide at least one argument.</li>
<li><code>parent</code>: Selects entities by hierarchical relationship. Arguments are a list of entity names that form the parent set. All entities that are children (immediate or derived) of one of the parents through an <code>owns</code> relationship will be selected. Must provide at least one argument.</li>
</ul>
<div id="authorization-model-for-core-services" class="section level3">
<h3>Authorization Model for Core Services</h3>
<table class="table table-bordered">
<thead>
<tr class="header">
<th align="left">Resource</th>
<th align="left">Actions</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">entity</td>
<td align="left">read, create, update, delete</td>
<td align="left">Model entities that are not points/commands/endpoints.</td>
</tr>
<tr class="even">
<td align="left">entity_edge</td>
<td align="left">read, create, delete</td>
<td align="left">Edges/relationships in the model.</td>
</tr>
<tr class="odd">
<td align="left">point</td>
<td align="left">read, create, update, delete</td>
<td align="left">Point model objects.</td>
</tr>
<tr class="even">
<td align="left">command</td>
<td align="left">read, create, update, delete</td>
<td align="left">Command model objects.</td>
</tr>
<tr class="odd">
<td align="left">endpoint</td>
<td align="left">read, create, update, delete</td>
<td align="left">Endpoint model objects. Update includes the ability to enable/disable.</td>
</tr>
<tr class="even">
<td align="left">entity_key_value</td>
<td align="left">read, create, update, delete</td>
<td align="left">Key-values associated with model entities. Read includes ability to read keys and value contents.</td>
</tr>
<tr class="odd">
<td align="left">user_command_request</td>
<td align="left">create</td>
<td align="left">Issuing a command request.</td>
</tr>
<tr class="even">
<td align="left">command_lock</td>
<td align="left">read, delete</td>
<td align="left">For reading and deleting command selects and blocks.</td>
</tr>
<tr class="odd">
<td align="left">command_lock_select</td>
<td align="left">create</td>
<td align="left">For selecting commands to be issued.</td>
</tr>
<tr class="even">
<td align="left">command_lock_block</td>
<td align="left">create</td>
<td align="left">For blocking commands from being selected or issued.</td>
</tr>
<tr class="odd">
<td align="left">measurement</td>
<td align="left">read</td>
<td align="left">Measurement values.</td>
</tr>
<tr class="even">
<td align="left">event</td>
<td align="left">read, create</td>
<td align="left">Events, reading or posting event templates.</td>
</tr>
<tr class="odd">
<td align="left">alarm</td>
<td align="left">read, update</td>
<td align="left">Reading alarms, or updating their state (e.g. acknowledging, removing).</td>
</tr>
<tr class="even">
<td align="left">event_config</td>
<td align="left">read, create, update, delete</td>
<td align="left">Configuration that defines properties for event types.</td>
</tr>
<tr class="odd">
<td align="left">frontEndRegistration</td>
<td align="left">update</td>
<td align="left">Used by protocol front-ends to register as the source for endpoints.</td>
</tr>
<tr class="even">
<td align="left">frontEndConnectionStatus</td>
<td align="left">read</td>
<td align="left">The communication status of front-end connections.</td>
</tr>
<tr class="odd">
<td align="left">meas_override</td>
<td align="left">read, create, update, delete</td>
<td align="left">Measurement NIS and replace.</td>
</tr>
<tr class="even">
<td align="left">agent</td>
<td align="left">read, create, update, delete</td>
<td align="left">Agent, including permission set associations. Password is not viewable.</td>
</tr>
<tr class="odd">
<td align="left">agent_password</td>
<td align="left">update</td>
<td align="left">Changing the agent password only.</td>
</tr>
<tr class="even">
<td align="left">agent_permissions</td>
<td align="left">read, create, update, delete</td>
<td align="left">Permission sets that can then be associated with agents.</td>
</tr>
</tbody>
</table>
</div>
<div id="permission-sets" class="section level3">
<h3>Permission Sets</h3>
<p>Agents are authorized to use services by the permission sets they have been assigned. Permission sets contain a set of permissions that allow or deny access to to combinations of resources and actions, with an optional selector.</p>
<p>Resources and actions can be identified by name, or the '*' character can be used to specify all resources or all actions.</p>
<p>All access is denied by default. If allows and denies overlap, access is denied.</p>
</div>
<div id="example-permission-sets" class="section level3">
<h3>Example Permission Sets</h3>
<div id="simple-read-all" class="section level4">
<h4>Simple read-all</h4>
<table class="table table-bordered">
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Resources</th>
<th align="left">Actions</th>
<th align="left">Selector</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ALLOW</td>
<td align="left">*</td>
<td align="left">read</td>
</tr>
</tbody>
</table>
<p>Note that create, update, and delete actions on all resources are denied by default.</p>
</div>
<div id="basic-user-role" class="section level4">
<h4>Basic user role</h4>
<table class="table table-bordered">
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Resources</th>
<th align="left">Actions</th>
<th align="left">Selector</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ALLOW</td>
<td align="left">agent_password</td>
<td align="left">update</td>
<td align="left">self</td>
</tr>
<tr class="even">
<td align="left">ALLOW</td>
<td align="left">agent, agent_permissions</td>
<td align="left">read</td>
<td align="left">self</td>
</tr>
</tbody>
</table>
<p>These permissions allow a user to update his/her own password view his/her own agent description and permission sets. Note that it does <em>not</em> allow updating the agent resource itself (i.e. assigning new permissions) or updating permission sets.</p>
</div>
<div id="command-issuer-role" class="section level4">
<h4>Command issuer role</h4>
<table class="table table-bordered">
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Resources</th>
<th align="left">Actions</th>
<th align="left">Selector</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ALLOW</td>
<td align="left">command_lock_select, user_command_request</td>
<td align="left">create</td>
</tr>
<tr class="even">
<td align="left">ALLOW</td>
<td align="left">command_lock</td>
<td align="left">read</td>
</tr>
</tbody>
</table>
</div>
<div id="protocol-front-end-role" class="section level4">
<h4>Protocol front-end role</h4>
<table class="table table-bordered">
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Resources</th>
<th align="left">Actions</th>
<th align="left">Selector</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ALLOW</td>
<td align="left">frontEndRegistration</td>
<td align="left">update</td>
</tr>
<tr class="even">
<td align="left">ALLOW</td>
<td align="left">event</td>
<td align="left">create</td>
</tr>
<tr class="odd">
<td align="left">ALLOW</td>
<td align="left">entity, entity_edge, point, command, endpoint, entity_key_value</td>
<td align="left">read</td>
</tr>
</tbody>
</table>
</div>
<div id="regional-read-permissions" class="section level4">
<h4>Regional read permissions</h4>
<table class="table table-bordered">
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Resources</th>
<th align="left">Actions</th>
<th align="left">Selector</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ALLOW</td>
<td align="left">*</td>
<td align="left">read</td>
<td align="left">parent(&quot;WesternRegion&quot;)</td>
</tr>
</tbody>
</table>
<p>This demonstrates the 'parent' selector type, used to restrict access to part of the model hiearchy. Agents granted this permission set will only be able to read the part of the model under the &quot;WesternRegion&quot; entity.</p>
</div>
</div>
</div>
</div>


<footer>
    <div class="container" style="margin-bottom: 20px">
        <hr>
        <div class="row">
            <div class="col-md-4"><p>&copy; Green Energy Corp 2016</p></div>
            <div class="col-md-2 col-md-offset-6"><a href="http://www.greenenergycorp.com"><img src="img/gec_sm.jpg"></img></a></div>
        </div>
    </div>
</footer>
</body>
</html>
